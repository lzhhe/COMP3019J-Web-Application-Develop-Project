<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../static/css/login_style.css" />
		<title>Modern Login Page</title>
	</head>
	<body>
		<!-- 整个界面的div -->
		<div class="login_container" id="login_container">
			<!-- 注册界面的div -->
			<div class="form-container sign-up">
				<form>
					<h1>Create Account</h1>
					<div class="information"></div>
					<span>by use your email for registering</span>
					<input type="text" placeholder="Username" />
					<input type="email" placeholder="Email" />

					<input
						type="password"
						placeholder="Password"
						id="signUpPasswordField"
					/>
					<button type="button" id="changeSignUpPassword" class="show">
						Show Password
					</button>

					<button>Register</button>
				</form>
			</div>

			<div class="form-container sign-in">
				<form>
					<h1>Enter System</h1>
					<div class="information"></div>
					<span>by use your username and password</span>
					<input type="text" placeholder="Username" />

					<input
						type="password"
						placeholder="Password"
						id="signInPasswordField"
					/>
					<button type="button" id="changeSignInPassword" class="show">
						Show Password
					</button>

					<a
						href="#"
						class="findPassword"
						onclick="document.getElementById('getPassword').style.display='block'"
					>
						Forget Your Password?
					</a>

					<button>Login</button>
				</form>
			</div>

			<div class="change-container">
				<div class="change">
					<div class="change-panel change-left">
						<h1>Welcome Back!</h1>
						<p>Enter your personal details to use all of site features</p>
						<button class="hidden" id="login">Sign In</button>
					</div>

					<div class="change-panel change-right">
						<h1>Hello Friend!</h1>
						<p>
							Register with your personal details to use all of site features
						</p>
						<button class="hidden" id="register">Sign Up</button>
					</div>
				</div>
			</div>
		</div>

		<div id="getPassword" class="modal">
			<form class="modal-content animate" action="#" method="post">
				<div class="imgcontainer">
					<span
						onclick="document.getElementById('getPassword').style.display='none'"
						class="close"
						title="Close Modal"
						>&times;</span
					>
					<img src="../static/pic/forgetHead.png" alt="头像" class="avatar" />
				</div>

				<div class="find-container">
					<label for="find_uname"><b>Username</b></label>
					<input
						type="text"
						placeholder="Enter Username"
						id="find_uname"
						required
					/>

					<label for="find_email"><b>Email</b></label>
					<input
						type="email"
						placeholder="Enter Email"
						id="find_email"
						required
					/>

					<button type="submit" id="findPassword">get</button>
				</div>
			</form>
		</div>

		<script>
			const container = document.getElementById("login_container"),
				registerBtn = document.getElementById("register"),
				loginBtn = document.getElementById("login");

			registerBtn.addEventListener("click", () => {
				container.classList.add("active");
			});

			loginBtn.addEventListener("click", () => {
				container.classList.remove("active");
			});
			const signUpPasswordField = document.getElementById(
				"signUpPasswordField"
			);
			const changeSignUpPassword = document.getElementById(
				"changeSignUpPassword"
			);
			const signInPasswordField = document.getElementById(
				"signInPasswordField"
			);
			const changeSignInPassword = document.getElementById(
				"changeSignInPassword"
			);

			changeSignUpPassword.addEventListener("click", function () {
				changePasswordVisibility(signUpPasswordField, changeSignUpPassword);
			});

			changeSignInPassword.addEventListener("click", function () {
				changePasswordVisibility(signInPasswordField, changeSignInPassword);
			});

			function changePasswordVisibility(passwordField, changeButton) {
				if (passwordField.type === "password") {
					passwordField.type = "text";
					changeButton.textContent = "Hide Password";
				} else {
					passwordField.type = "password";
					changeButton.textContent = "Show Password";
				}
			}

			var modal = document.getElementById("getPassword");

			// 当用户点击模态之外的任何地方时，关闭它
			window.onclick = function (event) {
				if (event.target == modal) {
					modal.style.display = "none";
				}
			};
		</script>
	</body>
</html>
